import{r as l,f as p,u as n,j as e,F as f}from"./index-DNiVGzVd.js";import{u as x,a as m}from"./hooks-D1k3PM9h.js";import{P as g,C as j}from"./Card-CTGRh3Hd.js";import"./index-DNApPOet.js";import"./LazyImage-D8J83qCM.js";const F=()=>{const t=x(),{products:r,loading:d,error:o,visibleProductsCount:c}=m(s=>s.product),[i,a]=l.useState([]);l.useEffect(()=>{r.length===0&&t(p())},[t,r.length]),l.useEffect(()=>{a(r)},[r]),l.useEffect(()=>{const s=localStorage.getItem("visibleProductsCount");t(s?n(parseInt(s,10)):n(10))},[t]);const u=l.useCallback(s=>{a(s)},[]),h=()=>{t(n(c+5))};return d?e.jsx("div",{className:"w-full flex justify-center items-center h-[93vh]",children:e.jsx(f,{})}):o&&r.length===0?e.jsxs("p",{children:["Error: ",o]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{products:r,show:!0,onFilterChange:u}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 ml-5 gap-9",children:i.length===0?e.jsx("p",{className:"flex text-xl justify-center items-center",children:e.jsx("span",{children:"No products found"})}):i.slice(0,c).map(s=>e.jsx(j,{product:s},s.id))}),c<i.length&&e.jsx("div",{className:"flex justify-center mt-16",children:e.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-500 text-white rounded-lg",children:"Show More"})}),o&&e.jsxs("p",{children:["Error: ",o]})]})};export{F as default};
